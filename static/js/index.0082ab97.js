(()=>{"use strict";var e={2427:function(e,t,n){var r=n("2676"),a=n("5271"),i=n("8751"),o=n("8026"),s=n.n(o);let l=function(e){let{sessions:t,onFilter:n}=e,[i,o]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),{minDate:u,maxDate:d,rooms:f}=(0,a.useMemo)(()=>{if(0===t.length)return{minDate:"",maxDate:"",rooms:[]};let e=t.map(e=>{let{start:t}=e;return s()(t)}),n=Array.from(new Set(t.map(e=>{let{room:t}=e;return t})));return e.sort((e,t)=>e.isAfter(t)?1:-1),o(e[0].format("YYYY-MM-DD")),{minDate:e[0].format("YYYY-MM-DD"),maxDate:e[e.length-1].format("YYYY-MM-DD"),rooms:n}},[t]);return(0,a.useEffect)(()=>{n({date:i,room:l})},[i,n,l]),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,r.jsxs)("label",{children:["Date",(0,r.jsx)("input",{type:"date",value:i,onChange:e=>o(e.target.value),min:u,max:d})]}),(0,r.jsxs)("label",{children:["Room",(0,r.jsxs)("select",{value:l,onChange:e=>c(e.target.value),children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"-- Select a Room --"}),f.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]})]})},c=["en","zh"];function u(e){return Object.fromEntries(e)}var d=n("4384"),f=n("5389");async function m(e){let t=(0,d.ZV)(e);await (0,f.V)(t.documentElement);let n=["dominant-baseline","font-size-adjust","font-stretch","font-variant","direction","unicode-bidi","writing-mode","text-rendering","user-select"];t.querySelectorAll("text").forEach(e=>{n.forEach(t=>{e.hasAttribute(t)&&e.removeAttribute(t)})});let r=["data-stacking-layer","data-stacking-context","data-z-index"];return t.querySelectorAll("g").forEach(e=>{if(r.forEach(t=>{e.hasAttribute(t)&&e.removeAttribute(t)}),!e.dataset.tag){var t;null===(t=e.parentNode)||void 0===t||t.prepend(...Array.from(e.childNodes)),e.remove()}}),new XMLSerializer().serializeToString(t)}async function p(e,t){if(void 0!==window.showSaveFilePicker){let n=await window.showSaveFilePicker({types:[{description:"SVG File",accept:{"image/svg":[".svg"]}}],suggestedName:t}),r=await n.createWritable();await r.write(e),await r.close()}else{let n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(()=>URL.revokeObjectURL(n),5e3)}}async function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Blob([t?e.outerHTML:await m(e)],{type:"image/svg+xml"});await p(n,"result.svg")}let v=function(e){let{session:t}=e;return(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("p",{className:"time",children:t.start.format("HH:mm")}),(0,r.jsx)("p",{className:"title",children:t.title.zh.split("\\n").join("\n")}),(0,r.jsx)("p",{className:"speaker",children:t.speakers.map(e=>e.zh).join(",\n")})]})},x=function(e){let{sessions:t}=e,n=(0,a.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{type:"button",onClick:()=>{n.current&&h(n.current)},disabled:0===t.length,children:"Download SVG"}),(0,r.jsx)("div",{ref:n,className:"simplelist",children:t.map(e=>(0,r.jsx)(v,{session:e},e.id))})]})},g=document.getElementById("root");g&&i.createRoot(g).render((0,r.jsx)(a.StrictMode,{children:(0,r.jsx)(function(){let[e,t]=(0,a.useState)(""),[n,i]=(0,a.useState)(null),[o,d]=(0,a.useState)([]),f=async e=>{var n;let r=null===(n=e.target.files)||void 0===n?void 0:n[0];if(r)try{let e=await r.text(),t=JSON.parse(e);i(t)}catch(e){e instanceof Error&&t(e.message)}},m=(0,a.useCallback)(e=>{if(!n)return;let{date:t,room:r}=e,a=s()(t)??null;d((function(e){let t=Object.fromEntries(e.speakers.map(e=>[e.id,e]));return e.sessions.map(e=>({id:e.id,room:e.room,start:s()(e.start),end:s()(e.end),title:u(c.map(t=>[t,e[t].title])),description:u(c.map(t=>[t,e[t].description])),speakers:e.speakers.map(e=>u(c.map(n=>[n,t[e??""][n].name]))),tags:e.tags}))})(n).filter(e=>(!a||!!e.start.isSame(a,"day"))&&(""===r||e.room===r)&&!0))},[n]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"Agenda"}),(0,r.jsx)("input",{type:"file",onChange:f}),e&&(0,r.jsx)("p",{style:{color:"red"},children:e}),(0,r.jsx)(l,{sessions:(null==n?void 0:n.sessions)??[],onFilter:m}),(0,r.jsx)(x,{sessions:o})]})},{})}))},3631:function(){},1114:function(){},7337:function(){},3504:function(){},2801:function(){}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},(()=>{var e=[];n.O=function(t,r,a,i){if(r){i=i||0;for(var o=e.length;o>0&&e[o-1][2]>i;o--)e[o]=e[o-1];e[o]=[r,a,i];return}for(var s=1/0,o=0;o<e.length;o++){for(var r=e[o][0],a=e[o][1],i=e[o][2],l=!0,c=0;c<r.length;c++)(!1&i||s>=i)&&Object.keys(n.O).every(function(e){return n.O[e](r[c])})?r.splice(c--,1):(l=!1,i<s&&(s=i));if(l){e.splice(o--,1);var u=a();void 0!==u&&(t=u)}}return t}})(),n.rv=function(){return"1.0.0-beta.1"},(()=>{var e={980:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a=r[0],i=r[1],o=r[2],s,l,c=0;if(a.some(function(t){return 0!==e[t]})){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(o)var u=o(n)}for(t&&t(r);c<a.length;c++)l=a[c],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(u)},r=self.webpackChunkamo_app=self.webpackChunkamo_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.ruid="bundler=rspack@1.0.0-beta.1";var r=n.O(void 0,["361","994"],function(){return n("2427")});r=n.O(r)})();